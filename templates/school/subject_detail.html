{% extends 'school/base_generic.html' %}

{% block title %}{{ subject.name }} Details{% endblock %}

{% block content %}
<div class="subject-detail-box">
    <h1>{{ subject.name }}</h1>

    <div class="subject-info">
        <p><strong>Description:</strong> {{ subject.description }}</p>
        <p><strong>Grade:</strong> {{ grade.name }}</p>
    </div>

    {% if request.user.role == "teacher" %}
        <div class="add-lesson-button" style="margin-bottom: 20px;">
            <a href="{% url 'add_lesson' subject.pk %}" class="btn btn-primary">âž• Add Lesson</a>
        </div>
    {% endif %}

    <div class="lessons-section">
        <h2>Lessons</h2>

        {% if lessons %}
            <div class="lesson-grid">
                {% for lesson in lessons %}
                    <a href="{% url 'lesson_detail' lesson.pk %}" class="lesson-card">
                        <h3>{{ lesson.name }}</h3>
                    </a>
                {% endfor %}
            </div>      
        {% else %}
            <p>No lessons available for this subject.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
